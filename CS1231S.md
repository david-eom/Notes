## Lecture 1: Speaking Mathematically

#### §1.1 Variables and Important Sets

$\N, \space \Z, \space \Q, \space \R$

#### §1.2 Mathematical Statements

- Universal $\forall$
- Conditional $\rightarrow$
- Existential $\exists$
- Combinations

#### §1.3 Proofs

##### §1.3.1 Definition

Inferntial argument, tracked back to axioms, with rules of inference

##### §1.3.2 Terminology

Definition: precise, unambiguous description

Axiom: assumed to be true without proof

Theorem: proved using reasoning

Lemma: small theorem

Corollary: simple deduction from a theorem

Conjecture: believed to be true, but no proof

##### §1.3.3 Basic Properties of Integers

$\forall x, y, z \in \Z:$

- **Closure:** $x + y \in \Z$ , and $xy \in \Z$

- **Communtativity:** $x + y = y + x$, and $xy = yx$

- **Associativity:** $x + y + z = (x + y) + z = x + (y + z)$, and $xyz = (xy)z = x(yz)$

- **Distributivity:** $x(y + z) = xy + xz$, and $(y + z)x = yx + zx$

- **Trichotomy:** $x = y$, or $x < y$, or $x > y$

##### §1.3.4 Examples

- **Direct proofs**

	- Proof by **generalising** from the generic particular

		Prove that product of two consecutive odd numbers is always odd

	- Proof by **construction**

	  Prove that $\exists \space x \in \Z \space s.t. x > 2$ and $x^2 - 5x + 6 >0$

	   $x = 17$

	  No need to explain how to obtain 17, just need to show

	- Disproof by **counter example**

	  Prove that "the product of two irrational number is always irrational" is not true

	  $\sqrt{2} \times \sqrt{8} = 4$

	  One counter-example is sufficient

	- Proof by **exhaustion**

	  Prove that 6a is not divisible by 5 for an integer $a$ betwen 1 and 4 inclusive

	  Suitable when the number of cases is finite

	- Proof by **deduction**

	  Prove that the difference of two consecutive squares is always odd.

	- Proof by **division into cases**

		Prove that $\exists$ irrational $p$ and $q$ such that $p^q$ is rational

		1. $\sqrt2$ is irrational
	2. Consider $\sqrt2 ^\sqrt2$, it is either rational or irrational
		3. Case 1: $\sqrt2 ^\sqrt2$ is rational
			1. Let $p = q = \sqrt2$, proven
		4. Case 2: $\sqrt2 ^\sqrt2$ is irrational
			1. Let $p = \sqrt2 ^\sqrt2$, $q = \sqrt2$
			2. $p$ is irrational *(by assumption)*, so is $q$ *(from theorem above*)
			3. Consider $p ^ q = (\sqrt2 ^\sqrt2)^\sqrt2 = 2$ *(basic algebra)
			4. 2 is rational
		5. Either case, we have found the required $p$ and $q$ 
	
- **Indirect proofs**

  - Proof by **contradiction**

    $r$ is rational $\leftrightarrow \exist \space a, b \in \Z \space s.t. \displaystyle r = \frac{a}{b}$ and $b \neq 0$

    Prove that $\sqrt2$ is irrational

    1. Suppose $\sqrt2$ is rational
    2. $\exists \space m, n \in \Z \space s.t. \displaystyle\sqrt2 = \frac{m}{n}$ *(by definition of rational numbers)*
    3. $m^2 = 2n^2$ *(by basic algebra)*
    4. Hence $m^2$ is even *(by definition of even number, as $n^2$ is an integer by closure)*
    5. Hence $m$ is even *(by proposition: for all integers $n$,  if $n^2$ is even then $n$ is even)*
    6. Let $m = 2k$, subst. into 3: $4k^2 = 2n^2$, hence $2k^2 = n^2$
    7. Hence $n^2$ is even *(by definition of even number)*
    8. Hence $n$ is even *(by proposition)*
    9. both $m$ and $n$ are even, but this **contradicts** that $\displaystyle\frac{m}{n}$ is the lowest term
    10. Therefore assumption false...

  - Proof by **contraposition**

  	Prove that $\forall \space n \in \Z$, if $n^2$ is even then $n$ is even

  	(Prove $n \sim$even $\rightarrow n^2 \sim$even)

## Lecture 2: The Logic of Compound Statements

#### §2.1 Logical Form and Logical Equivalence

##### §2.1.1 Statement

true or false, not both

##### §2.1.2 Compound Statements

Logical connectives:

- negation $\sim$ *(not)*
- conjunction $\land$ *(and)*
- disjunction $\lor$ *(or)*
- if-then $\rightarrow$ *(implies)*
- iff $\leftrightarrow$

Order of operations:

- $\sim$ performed first
- $\land$ $\lor$ coequal
- $\rightarrow$ $\leftrightarrow$ coequal
- Use parentheses to override

##### §2.1.3 Statement Form

Statement variables + logical connectives

*e.g.* $(p \lor q) \land \sim(p \land q)$ 

##### §2.1.4 Logical Equivalence

Identical truth values, $P \equiv Q$

To show $\not\equiv$:

- Truth table
- Find counter example

##### §2.1.5 Tautologies and Contradictions

Tautology: always $\textbf{true}$

Contradiction: always $\textbf{false}$

##### §2.1.6 Theorem Summary

| Theorem                                          | Statements                                                   |
| :----------------------------------------------- | :----------------------------------------------------------- |
| Commutative                                      | $p \land q \equiv q \land p$<br />$p \lor q \equiv q \lor p$ |
| Associative<br />*(one connective)*              | $(p \land q) \land r \equiv p \land (q \land r)$<br />$(p \lor q) \lor r \equiv p \lor (q \lor r)$ |
| Distributive<br />*(two connectives)*            | $p \land (q \lor r) \equiv (p \land q) \lor (p \land r)$<br />$p \lor (q \land r) \equiv (p \lor q) \land (p \lor r)$ |
| Identity                                         | $p \land \textbf{true} \equiv p$<br />$p \lor \textbf{false} \equiv p$ |
| Universal bound                                  | $p \lor \textbf{true} \equiv \textbf{true}$<br />$p \land \textbf{false} \equiv \textbf{false}$ |
| Idempotent                                       | $p \land p \equiv p$<br />$p \lor p \equiv p$                |
| Negation                                         | $p \lor \sim p \equiv \textbf{true}$<br />$p \land \sim p \equiv \textbf{false}$ |
| Double negation                                  | $\sim(\sim p) \equiv p$                                      |
| Negation of $\textbf{true}$ and $\textbf{false}$ | $\sim \textbf{true} \equiv \textbf{false}$<br />$\sim \textbf{false} \equiv \textbf{true}$ |
| Implication<br />*(§2.2.2)*                      | $p \rightarrow q \equiv \sim p \lor q$                       |
| Absorption                                       | $p \lor (p \land q) = p$<br />$p \land (p \lor q) = p$       |
| De Morgan's                                      | $\sim(p \land q) \equiv \sim p \lor \sim q$<br />$\sim(p \lor q) \equiv \sim p \land \sim q$ |

#### §2.2 Conditional Statements

##### §2.2.1 Definition

$p \rightarrow q$

$p$: hypothesis / antecedent

$q$: conclusion / consequent

| $\bold{p}$ | $\bold{q}$ | $\bold{p \rightarrow q}$ |
| :--------: | :--------: | :----------------------: |
|     T      |     T      |            T             |
|     T      |     F      |            F             |
|     F      |     T      |            T             |
|     F      |     F      |            T             |

##### §2.2.2 Implication Law

$p \rightarrow q \equiv \sim p \lor q$

##### §2.2.3 Negation

$\sim (p \rightarrow q) \equiv p \land \sim q$ *(by implication, De Morgan's and double negation)*

##### §2.2.4 Contrapositive

$p \rightarrow q \equiv \sim q \rightarrow \sim p$

##### §2.2.5 Converse and Inverse

$p \rightarrow q$

$q \rightarrow p \equiv \sim p \rightarrow \sim q$

converse $\equiv$ inverse $\not\equiv$ original conditional

##### §2.2.6 Only If and Biconditional

$p$ only if $q \equiv$ if $p$ then $q \equiv p \rightarrow q$  

$p$ if and only if $q \equiv p$ iff $q \equiv p \rightarrow q$  

##### §2.2.7 Necessary and Sufficient

$r$ necessary for $s \equiv$ if $s$ then $r \equiv s \rightarrow r$  

$r$ sufficient for $s \equiv$ if $r$ then $s \equiv r \rightarrow s$ 

#### §2.3 Valid and Invalid Arguments

##### §2.3.1 Definition

Sequence of statements ending in a conclusion

Valid (sound) argument $\leftrightarrow$ all premises and conclusion true

##### §2.3.2 Determining Validity

1. Identify premises & conclusion
2. Truth table
3. Identify critical row (all premises true)
4. conclusion false $\rightarrow$ invalid, conclusion true $\rightarrow$ valid

##### §2.3.3 Syllogism

Argument consisting two premises and a conclusion

- Modus ponens

	$p \rightarrow q, \space p, \space \bullet q$

- Modus tollens (contrapositive of modus ponens)

	$p \rightarrow q, \sim q, \space \bullet \sim p$

##### §2.3.4 Rules of Inference

- Generalisation

	Add nonsense
	$p, \space \bullet p \lor q$
	$q, \space \bullet p \lor q$

- Specialisation

	Discard extra information
	$p \land q, \space \bullet p$
	$p \land q, \space \bullet q$

- Elimination

	Two possibilities
	$p \lor q, \space \sim q, \space \bullet p$
	$p \lor q, \space \sim p, \space \bullet q$

- Transitivity

	Chains of if-then

	$p \rightarrow q, \space q \rightarrow r, \space \bullet p \rightarrow r$

- Proof by Division into Cases

	Either case a conclusion follows
	$p \lor q, \space p \rightarrow r, \space q \rightarrow r, \space \bullet r$

##### §2.3.5 Fallacies

Invalid argument due to error in reasoning

- Converse error

	$p \rightarrow q, \space q, \space \bullet p$ 

- Inverse error

	$p \rightarrow q, \space \sim p, \space \bullet \sim q$ 

- Valid argument but false

	$p \rightarrow q, \space p, \space \bullet q$, modus ponens, but $p \rightarrow q$ is $\textbf{false}$

- Invalid argument but true

	$p \rightarrow q, \space q, \space \bullet r$, inverse error, but $r$ happens to be $\textbf{true}$

##### §2.3.6 Contradiction Rule

If assumption leads to contradiction, assumption must be false

$\sim p \rightarrow \textbf{false}, \space \bullet p$

*(proof by contradiction)*

##### §2.3.7 Summary

| Rules of Inference           | Abstract Form                                                |
| ---------------------------- | ------------------------------------------------------------ |
| Modus Ponens                 | $p \rightarrow q, \space p, \space \bullet q$                |
| Modus Tollens                | $p \rightarrow q, \sim q, \space \bullet \sim p$             |
| Generalisation               | $p, \space \bullet p \lor q$<br />$q, \space \bullet p \lor q$ |
| Specialisation               | $p \land q, \space \bullet p$ <br />$p \land q, \space \bullet q$ |
| Elimination                  | $p \lor q, \space \sim q, \space \bullet p$<br />$p \lor q, \space \sim p, \space \bullet q$ |
| Transitivity                 | $p \rightarrow q, \space q \rightarrow r, \space \bullet p \rightarrow r$ |
| Proof by Division into Cases | $p \lor q, \space p \rightarrow r, \space q \rightarrow r, \space \bullet r$ |
| Conjunction                  | $p, q, \bullet p \land q$                                    |
| Contradiction                | $\sim p \rightarrow \textbf{false}, \space \bullet p$        |

## Lecture 3: The Logic of Quantified Statements

#### §3.1 Predicates and Quantified Statements

##### §3.1.1 Definitions

- Predicate:

	contains variable, becomes a statement when values are substituted

- Domain:

	set of all values that may be substituted

- Truth set:

	set of all elements to make the predicate true $\{ x \in D \space | \space P(x) \}$

To change predicates into statements:

1. assign specific values, or
2. add quantifiers

##### §3.1.2 Universal

$\forall x\in D, \space Q(x)$

$\textbf{true} \leftrightarrow Q(x) \space \textbf{true}$ for all $x \in D$

$\textbf{false} \leftrightarrow Q(x) \space \textbf{false}$ for at least one $x \in D$

##### §3.1.3 Existential

$\exists x\in D \space s.t. \space Q(x)$

$\textbf{true} \leftrightarrow Q(x) \space \textbf{true}$ for at least one $x \in D$

$\textbf{false} \leftrightarrow Q(x) \space \textbf{false}$ for all $x \in D$

$\exists !$: there exists a unique

##### §3.1.5 Universal Conditional

$\forall x, \space P(x) \rightarrow Q(x)$

##### §3.1.6 Equivalent Forms of Universal and Existential

By changing domain:

- $\forall x \in U, \space P(x) \rightarrow Q(x) \implies \forall x \in D, \space Q(x)$

	universal conditional becomes universal

- $\exists x \space s.t. \space P(x) \land Q(x) \implies \exists x \in D \space s.t. \space Q(x)$

	existential conditional becomes existential

##### §3.1.7 Implicit Quantification

*e.g.* $x > 2 \Rightarrow x^2 > 4$ is the same as $\forall x \in \R, \space x > 2 \rightarrow x^2 > 4$

Double arrow

#### §3.2 Predicates and Quantified Statements (con'd)

##### §3.2.1 Negations of Quantified Statements

$\sim(\forall x \in D, \space P(x)) \equiv \exists x \in D \space s.t. \space \sim P(x)$

$\sim (\exists x \in D \space s.t. P(x)) \equiv \forall x \in D, \space \sim P(X)$

##### §3.2.2 Negations of Universal Conditional

$\sim (\forall x, \space P(x) \rightarrow Q(x)) \equiv \exists x \space s.t. \space P(x) \land \sim Q(x)$ *(by implication and De Morgan's)*

##### §3.2.3 Relation among $\forall$, $\exists$, $\land$ and $\lor$

$\forall x \in D, \space Q(x) \equiv Q(x_1) \land Q(x_2) \land ... \land Q(x_n)$

$\exists x \in D, \space Q(x) \equiv Q(x_1) \lor Q(x_2) \lor ... \lor Q(x_n)$

##### §3.2.4 Vacuous Truth of Universal Statements

$\forall a \in X, \space P(a)$ is vacuously true if $X$ is an empty set

Hypothesis cannot be satisfied

#### §3.3 Statements with Multiple Quantifiers

If contain both $\forall$ and $\exists$, changing order usually changes meaning

If same type, changing order does not change meaning

#### §3.4 Arguments with Quantified Statements

##### §3.4.1 Universal Instantiation

If some property is true for everything in the set, then it is true of any particular thing in the set.

##### §3.4.2 Universal Modus Ponens

$\forall x, \space P(x) \rightarrow Q(x)$

$P(a)$ for a particular $a$

$\bullet  Q(a)$

##### §3.4.3 Universal Modus Tollens

$\forall x, \space P(x) \rightarrow Q(x)$

$\sim Q(a)$ for a particular $a$

$\bullet \sim P(a)$

## Lecture 5: Sets

#### §5.1 Set theory

##### • Definition

Collection of objects (members/elements)

Roster notation:

$\{ x_1, x_2, \dots , x_n\}$, $\{ x_1, x_2, x_3, \dots \}$

Set-builder notation

$S = \{ x \in U: P(x) \}$

$z \notin U \rightarrow z \notin S, \space P(z)\equiv  \textbf{false} \rightarrow z \notin S$

##### • Equality of sets

$A = B \leftrightarrow \forall z (z \in A \leftrightarrow z \in B)$

Order and repetition do not matter

$\{x_1, x_1, x_2, x_1\} = \{x_1, x_2\}$

##### • Empty Set

Existence: $\{\}$ has no element ($\varnothing$)

Uniqueness:

1. Let $A, B$ be sets with no element

2. $\forall z \space(z \in A \rightarrow z \in B)$ and $\forall z \space(z \in B \rightarrow z \in A)$

	(Vacuously true)

3. Hence $A = B$

##### • Inclusion of Sets

$A \subseteq B \leftrightarrow \forall z \space (z \in A \rightarrow z \in B)$

$A \subsetneq B \leftrightarrow A \subseteq B \space \land \space A \neq B$

Sets can be elements of sets

$\{\varnothing\}$ is not empty, it has one element $\varnothing$

$A =\{ \{ x\}\}$, $\{x\} \in A$, but $x \notin A$

##### • Power Set

$\mathcal{P}(A) = $ set of all subsets of $A$

$\mathcal{P}(\{x, y\}) = \{\varnothing, \{x\}, \{y\}, \{x, y\}\}$

Cardinality $|A|$: number of distinct elements in set $A$

If $A$ is a finite set, then $|\mathcal{P}(A)| = 2^{|A|}$

#### §5.2 Properties of Sets

##### • Boolean Operations

- Union:

	$A \cup B = \{x:x\in A \text{ or } x\in B\}$

- Intersection

	$A \cap B = \{x:x\in A \text{ and } x\in B\}$

- Complement

	$A \backslash B \text{ or } A - B = \{x:x\in A \text{ and } x\notin B\}$

	$U \backslash B = \overline{B} \text{ or } B^C$ for universal set $U$

| Theorem                              | Statements                                                   |
| :----------------------------------- | :----------------------------------------------------------- |
| Commutative                          | $A \cup B = B \cup A$<br />$A \cap B = B \cap A$             |
| Associative                          | $(A \cup B) \cup C = A \cup (B \cup C)$<br />$(A \cap B) \cap C = A \cap (B \cap C)$ |
| Distributive                         | $A \cup (B \cap C) = (A \cup B) \cap (A \cup C)$<br />$A \cap (B \cup C) = (A \cap B) \cup (A \cap C)$ |
| Identity                             | $A \cap U = A$<br />$A \cup \varnothing = A$                 |
| Universal bound                      | $A \cup U = U$<br />$A \cap \varnothing = \varnothing$       |
| Idempotent                           | $A \cup A = A$<br />$A \cap A = A$                           |
| Complement                           | $A \cup \overline{A} =U$<br />$A \cap \overline{A} = \varnothing$ |
| Double complement                    | $\overline{(\overline{A})} = A$                              |
| Complements of $U$ and $\varnothing$ | $\overline{\varnothing} = U$<br />$\overline{U} = \varnothing$ |
| Set difference                       | $A \backslash B = A \cap \overline{B}$                       |
| Absorption                           | $A \cup (A \cap B) = A$<br />$A \cap (A \cup B) = A$         |
| De Morgan's                          | $\overline{A \cup B} = \overline{A} \cap \overline{B}$<br />$\overline{A \cap B} = \overline{A} \cup \overline{B}$ |

##### • Cardinality of a Union

$A \cap B = \varnothing \leftrightarrow$ disjoint

If $A$, $B$ are disjoint, then$|A \cup B| = |A| + |B|$

For all finite sets $A$, $B$, $|A \cup B| = |A| + |B| - |A \cap B|$

## Lecture 6: Functions

#### §6.1 Properties of Functions

$f: A \rightarrow B$, $f : x \mapsto y$

Domain: $A$

Codomain (type of value): $B$

Range: $\{f(x): x \in A\} = \{y \in B: y = f(x) \text{ for some } x \in A\}$

1. $\forall x \in A, \space \exists y \in B \space (y = f(x))$
2. $\forall x \in A, \space \forall y_1, y_2 \in B \space (y_1 = f(x) \land y_2 = f(x) \rightarrow y_1 = y_2)$

Combined: $\forall x \in A, \space \exists ! y \in B \space (y = f(x))$

Identity function: $id_A = A \rightarrow A = x \mapsto x$

$A$ is domain, codomain & range

Sequence: a function with domain $\Z$, $\Z^+$ or $\{x \in \Z: k \leq x \leq l \text{ for some } k, l\in \Z\}$

Well definition: every element of domain assigned exactly one element of codomain

#### §6.2 Bijections

==$f: A \rightarrow B$==

##### • Equality of Functions

$f = g: C \rightarrow D$ if

$A = C$ *(domain)*

$B = D$ *(codomain)*

$\forall x \in A, f(x) = g(x)$ *(assignment)*

##### • Function Composition

$(g \circ f)(x) = g(f(x))$

Non-commutative, associative

Well-defined $g \circ f$: codomain of $f$ = domain of $g$

##### • Image and Preimage

Image: $X \subseteq A, f(X) = \{f(x): x \in X\}$

Preimage: $Y \subseteq B, f^{-1}(Y) = \{x \in A: y \ f(x) \text{ for some } y \in Y\}$

$f^{-1}$ only for subsets, not inverse function

##### • Surjection and Injection

Surjection (满): $\forall y \in B \space \exists x \in A \space (y = f(x))$ *(nothing left out)*

Injection (单): $\forall x, x' \in A (f(x) = f(x') \rightarrow x = x')$ *(once only)*

Bijection (双): $\forall y \in B \space \exists! x \in A (y = f(x))$ *(injective and surjective)*

##### • Inverse

$g = f^{-1} = B \rightarrow A$

$\forall x \in A \space \forall y \in B (y = f(x) \leftrightarrow x = g(y))$

$g, g' = f^{-1} \rightarrow g = g'$ *(uniqueness of inverses)*

$f$ is bijective $\leftrightarrow$ $f$ has an inverse

(proof in lecture notes)

#### §6.3 Cardinality

##### • Equality of Cardinality

$A$ and $B$ have same cardinality if there is bijection $A \rightarrow B$

##### • Countability of Sets

A set is countable $\leftrightarrow$

1. finite
2. $\exists$ sequence in which every element appears exactly once

*e.g.*

$\Z_{\geq0} = \{0, 1, 2, 3, 4, \dots\}$

$E =\{0, 2, 4, 6, 8, \dots \}$

$\Z = \{0, 1, -1, 2, -2, 3, -3, \dots\}$

$E \subsetneq \Z_{\geq0}$, $\Z = \Z_{\geq0} \cup \Z^-$, but $|\Z_{\geq0}|=|E|=|\Z^-|$



==Any subset $A$ of a countable set $B$ is countable==

1. If $A$ finite, countable by definition
2. If $A$ infinite, $B$ also infinite, take away elements from the sequence for $B$, every element appears once, countable

==Every infinite set $B$ has a countable infinite subset==

1. Keep choosing elements from $B$
2. We can always find $b_n \neq b_i$ for any $i < n$, since $B$ is infinite

==$\Z_{\geq0} \times \Z_{\geq 0}$ is countable==

Draw ordered pairs, appears exactly once

==$\Q$ is countable==

$\displaystyle \frac{m}{n} \in \Q, \space \text{pair}(m,n), \space n\neq0, \space \text{gcd}(m,n = 1)$

==$\mathcal{P}(A)$ of a countable infinite set $A$ is not countable==

1. Enumerate $B_0, B_1, B_2, \dots \in \mathcal{P}(A)$
2. Let $B$ differ diagonally from all subsets
3. $B \in \mathcal{P}(A)$ but $B$ does not appear in $B_0, B_1, B_2, \dots $

## Lecture 7: Induction, Recursion and Sequence

#### §7.1 Induction (Show)

##### • Mathematical Induction (MI)

To prove $\forall n \in \Z_{\geq m}, \space P(n)$ is true:

1. For each $n \geq m$, let $P(n)$ be the proposition "..."
2. Base step: show that $P(m)$ is true
3. Induction step: show that $\forall k \in \Z_{\geq m}, \space P(k) \rightarrow P(k + 1)$ is true ($P(k)$: induction hypothesis)
4. Conclusion: $P(n)$ is true by MI

##### • Strong Mathematical Induction (Strong MI)

To prove $\forall n \in \Z_{\geq 0}, \space P(n)$ is true:

1. For each $n \geq 0$, let $P(n)$ be the proposition "..."
2. Base step: show that $P(0), P(1),\dots$ is true (can invoke any number of previous cases)
3. Induction step: show that $\forall k \in \Z_{\geq 0}, \space P(0) \land P(1) \land \cdots \land P(k+1) \rightarrow P(k+2)$ is true
4. Conclusion: $P(n)$ is true by strong MI

**Alternative formulation:**

To prove $\forall n \in \Z_{\geq 0}, \space P(n)$ is true:

Show that $\forall i, l \in \Z _{\geq 0}, \space (i < l \rightarrow P(i)) \rightarrow P(l)$

Proof:

Applying $l = 0$: $\forall i \in \Z _{\geq 0}, \space (i < 0 \rightarrow P(i)) \rightarrow P(0)$

$i < 0$ false, implication true, $P(0)$ true by modus ponens

#### §7.2 Recursion (Define)

A sequence is recursively defined if definition of $a_n$ involves $a_0, a_1, a_2, \dots, a_{n - 1}$ for all but finitely many $n \in \Z_{\geq 0}$

1. Base clause
2. Recursion clause
3. Minimality clause

e.g. definition $\Z_{\geq 0}$

1. $0 \in \Z_{\geq 0}$
2. If $x \in \Z_{\geq 0}$, then $x + 1 \in \Z_{\geq 0}$
3. Membership for $\Z_{\geq 0}$ can always be demonstrated by finitely many successive applications of the clauses above

1 & 2 still true for $\Q$, but 3 is not

Every recursively defined set has a corresponding structural induction

## Lecture 8: Number Theories

#### §8.1 Divisibility

$n, d \in \Z, \space n = dk \rightarrow d|n \leftrightarrow n/d \in \Z$

$n \in \Z, \space 1 | n, \space n | n, \space n | 0$

$n, \space d \in \Z, \space d|n \rightarrow |d|\space |\space |n|$

$n, \space d \in \Z, \space d | n \land n \neq 0 \rightarrow |d| \leq |n|$

Quotient: $n \text{ div } d$

Remainder: $n \text{ mod } d, \space \geq 0$

##### • Transitivity

$a, \space b, \space c \in \Z, \space a|b \land b|c \rightarrow a|c$

##### • Closure

$a, \space b, \space d, \space m, \space n \in \Z, \space d|m \land d|n \rightarrow d|am+bn$

##### • Division Theorem 

==To prove $\forall n \in \Z, \space d \in \Z^+, \space \exists ! q, \space r \in \Z (n = dq+r \land 0 \leq r < d)$:==

Let $q = \left\lfloor\dfrac{n}{d}\right\rfloor$ and $r = n - dq$

**Existence:**

$q \leq \dfrac{n}{d} < q + 1$ (definition of floor)

$0 \leq n - dq < d$ (multiply $d$, subtract $dq$)

$0 \leq r < d$ (definition of $r$)

**Uniqueness:**

Suppose $q', \space r' \in \Z, \space n = dq' + r, \space 0 \leq r' < d$

$0 \leq n - dq' < d$ (by choice of $q'$ and $r'$)

$q' \leq \dfrac{n}{d} < q' + 1$ (divide $d$, add $q'$)

$q' = \left\lfloor\dfrac{n}{d}\right\rfloor$ (definition of floor)

$q = q', \space r = r'$

==To prove $\forall n \in \Z$, $n$ is either even or odd but not both:==

Use division theorem find $q, \space r \in \Z, \space n = 2q + 2, 0 \leq r < 2$

Either $r = 0, \space n = 2q$ or $r = 1, \space n = 2q + 1$

Cannot be both due to uniqueness of division theorem

#### §8.2 Primes

Prime: 2 +ve divisors	|	Composite: >2 +ve divisors

##### • Prime Divisor Lemma

==To prove $\forall n \in \Z_{\geq 2}, \space n$ has a prime divisor:==

1. Use well-ordering principle to find smallest divisor $d$
2. Suppose $d$ is not prime
3. $d$ is composite, find $c | d$ such that $1 < c < d$
4. $c | d, \space d | n, \space c | n$ by transitivity
5. $d$ is not the smallest divisor, **contradiction**

==To prove composite integer $n$ has a prime divisor $p \leq \sqrt{n}$:==

1. Find $d | n$ such that $1 < d < n$
2. $n = dk, \space k \in \Z$ (definition of divisibility)
3. Case 1: $d \leq \sqrt{n}$
	1. Find prime $p|d$ by prime divisor lemma
	2. $p|d, \space d|n, \space p|n$ by transitivity
	3. $p = |p| \leq |d| = d \leq \sqrt{n}$
4. Case 2: $d > \sqrt{n}$
	1. $k \geq 2$
	2. Find $p|k$ by prime divisor lemma
	3. $p|k, \space k|n, \space p|n$ by transitivity
	4. $p = |p| \leq |k| = k = n/d < n/\sqrt{n} \leq \sqrt{n}$

Alternative by contradiction, refer to lecture notes

##### • Prime Infinitude

==To prove there are infinitely many prime numbers:==

1. Suppose theorem is false
2. Let $p_1, p_2, \dots, p_k$ be a complete list of primes.
3. Define $n = p_1p_2\cdots p_k + 1$, note that $n \geq 1 + 1 = 2$
4. Find a prime $p|n$ by prime divisor lemma
5. Find $p = p_i$ since it is the complete list
6. $p_1p_2\cdots p_k/p_i \in \Z \rightarrow p_i | p_1p_2\cdots p_k$
7. $p_i | (n - p_1p_2\cdots p_k)$ by closure, $p_i | 1$
8. $2 \leq p_i = |p_i| \leq |1| = 1$, **contradiction**

#### §8.3 Base-b Representation

$(a_la_{l - 1}\cdots a_0)_b, \space l \in \Z_{\leq 0}$

$a_0, \space a_1, \dots , \space a_l \in \{0, 1, \dots, b - 1\}$ such that

$n = a_lb^l + a_{l - 1}b^{l - 1} + \cdots + a_0b^0$ and $a_l \neq 0$

##### • Algorithm

1. `input` $n \in \Z^+$
2. $q := n$
3. $l := 0$
4. `while` $q \neq 0$:
	1. $a_l:= q \text{ mod } b$
	2. $q := q \text{ div } b$
	3. $l := l + 1$
5. `output` $(a_la_{l - 1}\cdots a_0)_b, \space l \in \Z_{\leq 0}$

==To prove the algorithm stops:==

$q_i$: value when `while` is checked $(i+1)^{th}$ time

$\begin{aligned} \because b \leq 2, \space n = q_0 &> q_0 \text{ div } b = q_1 \\ &> q_1 \text{ div } b = q_2 \\ &> \dots \end{aligned}$

`while` at most $n$ times, well ordering principle

==To prove the algorithm is correct:==

`while` checked $l + 1$ times, $q_{l - 1} > 0, \space q_l = 0$
$$
\begin{aligned} n = q_0 &= bq_1 + a_0 \\ &= b(bq_2 + a_1) + a_0 &=& b^2q_2 + a_1b + a_0 \\ &= b^2(bq_3 + a_2) + a_1b + a_0 &=& b^3q_3 + a_2b^2 + a_1b + a_0 \\ &= \dots \\ &= b^lq_l + a_{l-1}b^{l - 1} + \dots + a_1b + a_0 \\ &= a_{l-1}b^{l - 1} + \dots + a_1b + a_0 \space \text{(as } q_l = 0 \text{)} \end{aligned}
$$
$a_{l-1} = bq_l + a_{l - 1} = q_{l - 1} > 0$ (first digit not zero)

##### • Uniqueness of representation

==To prove by strong MI:==

1. ...
2. (base) true for $c < b$
	1. Let $c \in \{1, 2, \dots, b - 1\}$
		Suppose $c = a_lb^l + a_{l - 1}b^{l - 1} + \cdots + a_0b^0$ and $a_l \neq 0$
	2. Suppose $i \in \{1, 2, \dots, l\}$ such that $a_i \geq 1$
		$c = a_lb^l + \cdots + a_0b^0 \geq a_ib^i \geq 1 \cdot b^1 = b$, **contradiction**
	3. $a_1 = a_2 = \cdots = a_l = 0, \space l = 0$
	4. $c = a_0b^0 = a_0$
3. (induction)
	1. Let $k \in \Z_{\geq b - 1}$ such that $P(1), P(2), \dots, P(k)$ are true
	2. Let $l, m \in \Z_{\geq 0}$ 
		$a_0, a_1, \dots, a_l \space \& \space d_0, d_1, \dots, d_m \in \{1, 2, \dots, b - 1\}$ such that
		$\begin{aligned} k + 1 &= a_lb^l + a_{l - 1}b^{l - 1} + \cdots + a_0b^0 \\ &= d_mb^m + d_{m - 1}b^{m - 1} + \cdots + d_0b^0\end{aligned}$
	3. Quotients are also equal
		$\begin{aligned} (k + 1) \text{ div } b &= a_{l - 1}b^{l - 1} + a_{l - 2}b^{l - 2} + \cdots + a_1b^0 \\ &= d_{m - 1}b^{m - 1} + d_{m - 2}b^{m - 2} +\cdots + d_1b^0\end{aligned}$ 
		Since $a_0b^0$ and $d_0b^0$ is the remainder
	4. $1 \leq (k + 1) \text{ div } b \leq (k + k) \text{ div } 2 = k$
		Since $k + 1 \geq b \geq 2$
	5. $P((k + 1) \text{ div } b)$ is true by hypothesis
	6. $l = m, \space a_i = d_i \space \forall \space 0 < i < l$
	7. Substitute back to 3.2, front part identical
	8. $a_0 = a_0b^0 = d_0b^0 = d_0$
	9. $P(k + 1)$ is true
4. ...

#### §8.4 Greatest Common Divisors

$m,n\in \Z^+, \space m \text{ mod } n = 0 \leftrightarrow \text{gcd}(m,n) = n$

$m, p \in \Z^+, \space prime(p) \rightarrow \text{gcd}(m,p) = 1 \lor p|m$

$m, n \in \Z, \space m\neq 0 \land n \neq 0 \rightarrow \text{gcd}(m,n)$ exists and positive

$m, \space n \in \Z, \space \text{gcd}(m,n) = \text{gcd}(|m|, |n|)$

##### • Euclidean Algorithm

1. `input` $m, \space n \in \Z^+, \space m \geq n > 0$
2. $x := m$
3. $y := n$
4. `while` $y \neq 0$:
	1. $r := x \text{ mod } y$
	2. $x := y$
	3. $y := r$
5. `output` $x$

==To prove the algorithm stops:==

$r_i$: value when `while` is checked $(i+1)^{th}$ time

$\begin{aligned} n &> m \text{ mod } n = r_1 \\ &> n \text{ mod } r_1 = r_2 \\ &> \dots \end{aligned}$

`while` at most $n$ times, well ordering principle

==To prove the algorithm is correct:==

$x, \space y, \space r \in \Z, \space x \text{ mod } y = r \rightarrow \text{gcd}(x, y) = \text{gcd}(y, r)$

1. Let $q = x \text{ div } y, \space x = yq + r$
2. $d|x \land d|y \rightarrow d|r \because r = 1 \cdot x + (-q)\cdot y$ (closure)
3. $d|y \land d|r \rightarrow d|x \because x = q \cdot y + 1 \cdot r$ (closure)

#### §8.5 Fundamental Theorem of Arithmetic

##### • Bézout's Lemma

$\forall m, n \in \Z, \space n \neq 0, \space \exists s, t \in \Z \text{ s.t. gcd}(m,n) = ms + nt$

(integer linear combination of $m$ and $n$)

##### • Euclid's Lemma

$m, \space n, \space p \in \Z^+, \space prime(p) \land p|mn \rightarrow p|m \lor p|n$

Corollary:

$prime(p) \land p|m_0m_1\dots m_n \rightarrow p|m_i$ for some $i\in \{0, 1, \dots, n\}$

==Proof:==

1. Suppose $prime(p), \space p | mn, \space p \nmid m$
2. $\text{gcd}(m, p) = 1$
3. Bézout's Lemma find $1 = \text{gcd}(m, p) = ms + pt$
4. $n = nms + ntp = s(mn) + (nt)p$
5. $p|mn, \space p | p \rightarrow p | n$ (closure)

##### • Prime Factorisation

Every integer $n \geq 2$ has a unique prime factorisation in nondecreasing order

==To prove existence by strong MI:==

1. $\dots$
2. (base) $P(2)$ is true
3. (induction)
	1. Let $k \in \Z_{\geq 2}$ such that $P(2), P(3), \dots, P(k)$ are true
	2. Case 1: $k+1$ is prime
		1. $k+1$ is factorisation
	3. Case 2: $k+1$ composite
		1. Find $d|k+1$ such that $1 < d < k + 1$
		2. Find $e \in \Z$ such that $k + 1 = de$
		3. $d < k + 1 = de, \space 1 < e$
		4. $1 < d, \space e < de = k + 1$
		5. $1 < e < k + 1$
		6. $d, \space e$ have prime factorisation
		7. $P(k + 1)$ is true
4. $\dots$

==To prove uniqueness by contradiction:==

1. Suppose have two different factorisation

	$p_0p_1\dots p_k = n = q_0 q_1 \dots q_l$

2. Cancel all common primes to get

	$p_0'p_1'\dots p_{k'}' = n = q_0' q_1' \dots q_{l'}'$

	$p_0' | q_0' q_1' \dots q_{l'}'$

3. Use Euclid corollary to find $p_0' | q_i', \space i \in \{0, 1, \dots, l'\}$

4. Since $q_i'$ prime, divisors only $1$ and $q_i'$, $p_0' \neq 1 \rightarrow p_0' = q_i'$

5. Contradiction to 2

#### §8.6 Modular Arithmetic

##### • Congruence

$a, \space b \in \Z, \space n \in \Z^+, \space a \text{ mod } n = b \text{ mod } n$

1. $a \equiv b (\text{mod }n)$
2. $a = nk + b$ for some $k \in \Z$
3. $n | (a - b)$

==To prove $1 \rightarrow 2$:==

1. Let $r = a \text{ mod } n = b \text{ mod } n$
2. Let $p = a \text{ div } n, \space q = b \text{ div } n$
3. $a = a - b + b = (np + r) - (nq + r) + b = n(p - q) + b$

==To prove $2 \rightarrow 3$:==

1. $a - b = nk, \space n | (a - b)$

==To prove $3 \rightarrow 1$:==

1. Let $p = a \text{ div } n ,\space r = a \text{ mod } n$
2. Let $q = b \text{ div } n, \space s = b \text{ mod } n$
3. $a - b = (np + r) - (nq + s) = n(p - q) + (r - s)$
4. $n | (r - s)$ by closure lemma, $n | |r - s|$
5. $0 \leq |r - s| < n$ since $0 \leq r, s < n$
6. Assume $r - s \neq 0$, $|n| \leq |r - s|$, contradiction
7. $\therefore a \text{ mod } n = r = s = b \text{ mod } n$

##### • Congruent Properties

1. Reflexivity

	$a \equiv a (\text{mod } n)$

2. Symmetry

	$a \equiv b (\text{mod } n) \rightarrow b \equiv a (\text{mod } n)$

3. Transitivity

	$a \equiv b (\text{mod } n) \land b \equiv c (\text{mod } n)\rightarrow a \equiv c (\text{mod } n)$

4. Addition

	$a \equiv b (\text{mod } n) \land c \equiv d (\text{mod } n)\rightarrow a+c \equiv b+d (\text{mod } n)$

5. Multiplication

	$a \equiv b (\text{mod } n) \land c \equiv d (\text{mod } n)\rightarrow ac \equiv bd (\text{mod } n)$

##### • Additive Inverse

$a + b \equiv 0 (\text{mod } n)$: $b$ is AI of $a \text{ mod } n$

$-a$ is AI of $a \text{ mod } n$

$b$ is AI of $a \text{ mod } n \leftrightarrow b = -a(\text{mod }n)$

##### • Multiplicative Inverse

$ab \equiv 1 (\text{mod } n)$: $b$ is MI of $a \text{ mod } n$

**Uniqueness:**

(1) $b, \space b'$ MI of $a \rightarrow b \equiv b' (\text{mod }n)$ 

(2) $b$ MI of $a \land b \equiv b' (\text{mod }n) \rightarrow b'$ MI of $a$

==Proof of $1$:==

1. $ab \equiv 1 (\text{mod } n) \equiv ab' (\text{mod } n)$
2. $b'ab \equiv b'ab' (\text{mod } n)$ (multiplication)
3. $b \equiv b' (\text{mod }n)$

==Proof of $2$:==

$ab' \equiv ab (\text{mod } n) \equiv 1 (\text{mod } n)$ (multiplication)

**Existence:**

==To prove that $a$ has MI $\text{mod }n \leftrightarrow \text{gcd}(a, n) = 1$:==

$\rightarrow$

1. Let $b$ be MI of $a \text{ mod } n$, $ab \equiv 1 (\text{mod }n)$
2. Find $ab = nk + 1$
3. Let $d = \text{gcd}(a,n) \rightarrow d \geq 1, \space d|a, \space d|n$
4. $d|b\cdot a + (-k)\cdot n = 1$ (closure)
5. $|d| \leq |1|$
6. $3, 5$: $\text{gcd}(a,n) = d = 1$

$\leftarrow$

1. Suppose $\text{gcd}(a, n) = 1$
2. Bézout's Lemma find $1 = as + nt$
3. $as = 1 - nt = n(-t) + 1$
4. $as \equiv 1(\text{mod }n)$, $s$ is MI of $a \text{ mod } n$

## Lecture 9: Relations

#### §9.1-9.3 Equivalence Relations

Relation: subset of $A \times B$, $x \space R/\not R \space y$ for $(x, y) \in/\not \in R$

Binary relation: relation from $A$ to $A$

$R$ is equivalence relation:

- Reflexive: $\forall x \in A \space (x \space R \space x)$
- Symmetric: $\forall x,y \in A \space (x \space R \space y \rightarrow y \space R \space x)$
- Transitive: $\forall x, y, z \in A \space (x \space R \space y \land y \space R \space z \rightarrow x \space R \space z)$

##### • Equivalence Class:

For each $x \in A, \space [x]_R = \{y \in A: x  \space R \space y\}$

(set of all elements that are equivalent to $x$)

$A/R = \{[x]_R: x \in A\}$

(set of all equivalence classes)

If $R$ is equivalence relation on $A$:

1. $x \space R \space y$
2. $[x] = [y]$
3. $[x] \cap [y] \neq \varnothing$

==To prove $1 \rightarrow 2$:==

1. $x \space R \space y \rightarrow y \space R \space x$ (symmetry)
2. $\forall z \in [x]$
	1. $x \space R \space z$ (definition of $[x]$)
	2. $\therefore y \space R \space z$ (transitivity)
	3. $\therefore z \in [y]$ (definition of $[y]$)
3. $[x] \subseteq [y]$
4. Switch $x$ and $y$ to show $[y] \subseteq [x]$
5. $[x] = [y]$

==To prove $2 \rightarrow 3$:==

$[x] = [y] \rightarrow [x] \cap [y] = [x]$

$R$ is reflexive, $x \in [x]$, nonempty

==To prove$3 \rightarrow 1$:==

1. Take $z \in [x] \cap [y]$
2. $x \space R \space z \land y \space R \space z$
3. $y \space R \space z \rightarrow z \space R \space y$ (symmetry)
4. $\therefore x \space R \space y$ (transitivity)

##### • Partitions

Set of nonempty subsets of $A$ such that

$(\geq 1)$ $\forall x \in A \space \exists \space S \in  \mathcal{C} \space (x \in S)$

$(\leq 1)$ $\forall x \in A \space \forall S,S'\in \mathcal{C} \space (x \in S \land x \in S' \rightarrow S = S')$

$S$: components of partition

==To prove equivalence $R$ on $A \rightarrow A/R$ is partition of $A$:==

$(\geq 1)$

1. $x \in A, \space x \space R \space x$ (reflexivity)

 	2. $x \in [x] \in A/R$

$(\leq 1)$

1. By 3 properties of equivalence:

	$[x] \cup [y] \neq \varnothing \rightarrow [x] = [y]$

==To prove partition $\mathcal{C}$  of$A \rightarrow \exists$ equivalence $R$ on $A$ such that $A/R = \mathcal{C}$:==

1. Define $R$ on $A$

	$\forall x, \space y \in A, \space x \space R \space y \leftrightarrow x, \space y \in S$ for some $S \in \mathcal{C}$

2. (Reflexivity)

	Let $x \in A$

	$(\geq 1)$ gives $S \in \mathcal{C}$ such that $x \in S \rightarrow x \space R \space x$

3. (Symmetry)

	Let $x, \space y \in A$ such that $x \space R \space y$

	Find $S \in \mathcal{C}$ such that $x, \space y \in S$

	$y, \space x \in S \in \mathcal{C} \rightarrow y \space R \space x$

4. (Transitivity)

	Let $x, \space y, \space z \in A$ such that $x \space R \space y \land y \space R \space z$

	Find $S, \space S' \in \mathcal{C}$ such that $x, \space y \in S \land y, \space z \in S'$

	$S = S'$ by $(\leq 1)$, $x, \space z \in S$, $x \space R \space z$

5. From $2,3,4$, $R$ is equivalence

6. Let $x \in S \in \mathcal{C}$

	1. $S \subseteq [x]$ by definition of $R$

	2. Let $y \in [x]$, then $x \space R \space y$

		Find $S' \in \mathcal{C}$ such that $x, \space y \in S'$

		$x \in S \cap S' \rightarrow S = S' (\leq 1)$

		$y \in S' = S$

		Choice of $y$ is arbitrary $\rightarrow [x] \subseteq S$

7. From $6$, $x \in S \in \mathcal{C} \rightarrow [x] = S$

8. Let $[x] \in A/R$

	Use $(\leq 1)$ to find $S \in \mathcal{C}$ such that $x \in S$

	From $7$, $[x] = S \in \mathcal{C}$

	Choice of $[x]$ is arbitrary $\rightarrow A/R \subseteq \mathcal{C}$

9. Let $S \in \mathcal{C}$

	$S \neq \varnothing$ as $\mathcal{C}$ is a partition

	Take $x \in S$, from $7$, $S = [x] \in A/R$

	Choice of $S$ is arbitrary $\rightarrow \mathcal{C} \subseteq A/R$

10. From $9, 10$, $A/R = \mathcal{C}$

#### §9.4-9.5 Partial Orders

$R$ is (non-strict) partial order $(\preccurlyeq)$:

- Reflexive

- Antisymmetric

	$\forall x, \space y \in A (x \space R \space y \land y \space R \space x \rightarrow x = y)$

- Transitive

$R$ is (non-strict) total order:

- $\forall x, \space y \in A(x \space R \space y \lor y \space R \space x)$ *(comparable)*

Strict order: $x = y \rightarrow x \space \not R \space y$

##### • Hasse Diagram

$x \prec y: x \preccurlyeq y \land x \neq y$

$x \prec y \land \not \exist z \in A (x \prec z \prec y) \rightarrow$ $x$ below $y$ with line joining $x$ to $y$

Let $\preccurlyeq$ be partial order on $A$, $c \in A$, $\forall x \in A$

Min: $x \preccurlyeq c \rightarrow c = x$

Max: $c \preccurlyeq x \rightarrow c = x$

Smallest: $c \preccurlyeq x$

Largest: $x \preccurlyeq c$

If total order, min = smallest, max = largest

##### • Properties of smallest / min

Consider partial order $\preccurlyeq$ on $A$

==To prove a smallest element is min:==

1. Let $c$ be smallest element
2. Take $x \in A$ such that $x \preccurlyeq c$
3. Smallestness $\rightarrow c \preccurlyeq x$
4. $c = x$ (antisymmetry)

==To prove at most one smallest element:==

1. Let $c, \space c'$ be smallest elements
2. Smallestness $\rightarrow c \preccurlyeq c' \land c' \preccurlyeq c$
3. $c = c'$ (antisymmetry)

==To prove if finite $A \neq \varnothing$, $\exists$ minimal element:==

1. Take $c_0 \in A$ (since $A \neq \varnothing$)
2. If not minimal, find $c_1 \prec c_0$
3. Repeat $2$, find $c_{n + 1} \prec c_n$
4. If $c_{n + 1} = c_i$ where $i \in \{0, 1, \dots, n\}$
	1. $c_n \prec c_{n - 1} \prec \cdots \prec c_i = c_{n + 1}$
	2. $c_n \preccurlyeq c_{n+1}$ (transitivity)
	3. $c_n = c_{n+1}$ (antisymmetry)
	4. Contradiction, hence $c_{n + 1} \neq c_i$
5. $A$ is finite $\rightarrow$ process must end at some $c_n$
6. $c_n$ is minimal

## Lecture 10: Counting & Probability

#### §10.1 Intro

Sample space: set of all possible outcomes

Event: subset of sample space

Equally likely probability formula: $\displaystyle P(E) = \frac{|E|}{|S|}$

$m, n \in \Z \land m \leq n \rightarrow n - m + 1$ from $m$ to $n$

#### §10.2 Possibility Tress and Product Rule

##### §10.2.1 Product Rule

$k$ steps, each step $n_i$ ways, independent

Total ways $= n_1 \times n_2 \times \cdots \times n_k$

If dependent, difficult / impossible to apply

##### §10.2.2 Permutation

$n$ elements: $n!$

##### §10.2.3 r-Permutation

$\displaystyle ^nP_r = n(n-1)(n-2) \cdots (n - r + 1) = \frac{n!}{(n - r)!}$

#### §10.3 Counting Elements of Disjoint Sets

##### §10.3.1 Addition Rule

$A = A_1 \cup A_2 \cup \cdots \cup A_k$, mutually disjoint

$|A| = |A_1| + |A_2| + \cdots + |A_k|$

##### §10.3.2 Difference Rule

$A$ is finite, $B \subseteq A \rightarrow |A \backslash B| = |A| - |B|$

(derived from addition rule $|B| + |A \backslash B| = |A|$)

$P(\overline{A}) = 1 - P(A)$

#####  §10.3.3 Inclusion / Exclusion Rule

$A, B, C$ are finite

$|A \cup B| = |A| + |B| - |A \cap B|$

$\begin{aligned} |A \cup B \cup C| =& |A| + |B| + |C| \\ &- |A \cap B| - |A \cap C| - |B \cap C| \\ &+ |A \cap B \cap C| \end{aligned}$

#### §10.4 Pigeonhole Principle (PHP)

$f(X) = Y, \space |X| = n, \space |Y| = m$

##### §10.4.1 Generalised PHP

$\displaystyle \forall k \in \Z^+ \left(k < \frac{n}{m} \rightarrow \exists y \in Y \left(|f^{-1}(\{y\})| \geq k + 1\right)\right)$

##### §10.4.2 Generalised PHP (Contrapositive)

$\forall y \in Y, \space \forall k \in \Z^+ \left( |f^{-1}(\{y\})| \leq k \rightarrow n \leq km \right)$

#### §10.5 Counting Subsets of a Set

##### §10.5.1 r-Combination

$\displaystyle ^nC_r = \frac{^nP_r}{r!} = \frac{n!}{r!(n - r)!}$

##### §10.5.2 Permutation with Indistinguishable Objects

$n = n_1 + n_2 + \cdots + n_k$, $n_i$ of type $i$ indistinguishable

$\displaystyle \frac{n!}{n_1!n_2!\cdots n_k!}$

#### §10.6 r-Combination with Repetition Allowed

$n - 1$ dividers, $r$ elements

Multiset: $^{r + n - 1}C_r$

|                           | Order Matters | Order Does Not Matter |
| ------------------------- | ------------- | --------------------- |
| Repetition Is Allowed     | $n^k$         | $^{k + n - 1}C_k$     |
| Repetition Is Not Allowed | $^nP_k$       | $^nC_k$               |

#### §10.7 Pascal's Formula & Binomial Theorem

$\displaystyle \binom{n + 1}{r} = \binom{n}{r - 1} + \binom{n}{r}$

$\displaystyle \binom{n}{r}= \binom{n}
{n - r}$

$\displaystyle (a + b)^n = \sum _{k = 0} ^n \binom{n}{k}a^{n - k}b^k$

#### §10.8 Probability Axioms and Expected Value

$0 \leq P(A) \leq 1$

$P(\varnothing) = 0, \space P(S) = 1, \space P(\overline{A}) = 1 - P(A)$

$P(A \cup B) = P(A) + P(B) - P(A\cap B)$

$A \cap B = \varnothing \to P(A\cup B) = P(A) + P(B)$

Expected value: $\displaystyle \sum_{k = 1} ^n a_kp_k$

Linearity: expected of sum = sum of expected

$E[X + Y] = E[X] + E[Y]$

#### §10.9 Conditional Probability

$\displaystyle P(B|A) = \frac{P(A \cap B)}{P(A)}$

Bayes' Theorem:

$\displaystyle P(B_k|A) = \frac{P(A|B_k) \cdot P(B_k)}{P(A|B_1) \cdot P(B_1) + \cdots + P(A|B_n) \cdot P(B_n)}$

Independent events: $P(A \cap B) = P(A) \cdot P(B)$

Mutually independent: probability of intersection of any subset is the product of probabilities

## Lecture 11: Graphs & Trees

#### §11.1 Definitions and Basic Properties

| Term                           | Definition                                                   |
| ------------------------------ | ------------------------------------------------------------ |
| Undirected                     | $e = \{v, w\}$                                               |
| Directed                       | $e = (v, w)$                                                 |
| Simple                         | Undirected, no loops or parallel edges                       |
| Complete ($K_n$)               | Simple, exactly one edge connecting each pair                |
| Bipartite                      | Simple, two disjoint sets, every edge connects $u \in U$ to $v \in V$ |
| Complete bipartite ($K_{m,n}$) | Bipartite, $|U| = m$, $|V| = n$, every $u \in U$ connects to every $v \in V$ |
| Subgraph                       | Every vertex and edge in graph, edge has same endpoints      |
| Degree                         | $\deg(v) = $ number of edges  incident on $v$                |

##### • Handshake theorem

$\deg(G)$ = $\deg(v_1) + \deg(v_2) + \cdots + \deg(v_n) = 2 \times |E|$

Total degree of a graph is even

Even number of vertices of odd degree

#### §11.2 Trails, Paths and Circuits

| Term                | Definition                                        |
| ------------------- | ------------------------------------------------- |
| Walk                | Finite sequence of adjacent vertices and edges    |
| Length              | Number of edges in a walk                         |
| Trivial walk        | Single vertex                                     |
| Trail               | Walk, no repeated edge                            |
| Path                | Trail, no repeated vertex                         |
| Closed walk         | Starts and ends at same vertex                    |
| Circuit             | Closed walk, no repeated edge                     |
| Simple circuit      | Circuit, no repeated vertex except first and last |
| Cyclic              | Contains a loop                                   |
| Connectedness       | $\exists$ a walk                                  |
| Connected component | Subgraph of largest possible size                 |
| Euler               | Contains every vertex and edge, no repeated edge  |
| Hamiltonian         | Contains every vertex, no repeated edge           |

##### • Circuit & Connectedness

Connected graph, any two vertices connected by path

Circuit, one edge removed, $\exists$ trail

Circuit, can remove an edge without disconnecting

##### • Euler

Euler circuit $\to$ every vertex +ve even $\deg$

Euler circuit $\leftrightarrow$ connected $\land$ every vertex +ve even $\deg$

Euler trail $v$ tp $w$ $\leftrightarrow$ connected $\land$ $\deg(v) \deg(w)$ odd $\land$ all other vertices +ve even $\deg$

##### • Hamiltonian

Hamiltonian circuit $\to$ $\exists$ subgraph

- Contains every vertex
- Connected
- $|E| = |V|$
- $\forall v, \space \deg(v)= 2$

Contraposition to prove does not have Hamiltonian circuit

#### §11.3 Matrix Representations of Graphs

##### • Adjacency Matrix $A_{n\times n}$

- Directed

	$a_{ij} =$ no. of arrows from $v_i$ to $v_j$

- Undirected (symmetric)

	$a_{ij} =$ no. of edges connecting $v_i$ and $v_j$

no. of walks of length $n$ from $v_i$ to $v_j = i, j^{th}$ entry in $A^n$

#### §11.4 Planar Graphs

Same: identical $V$, $E$, edge-endpoint functions

##### • Isomorphism

$G \cong G' \leftrightarrow \exists$ bijections $g:V_G \to V_{G'}$ and $h:E_G \to E_{G'}$ that preserve edge-endpoint functions $\forall v \in V_G, \space\forall e \in E_G$

$G \cong G' \leftrightarrow \exists$ permutation $\pi: V_G \rightarrow V_{G'}$ s.t. $\{u, v\} \in E_G \leftrightarrow \{\pi(u), \pi(v)\}\in E_{G'}$

$\cong$ is an equivalence relation

Planar graph: drawn on 2D plane without edges crossing;

##### • Kuratowski's Theorem

Planar $\leftrightarrow$ does not contain subgraph $K_5$ or $K_{3, 3}$

##### • Euler's Formula

$G = (V, E), \space e = |E|, \space v = |V|$

$f = e - v + 2$ (no. of faces)

#### §11.5 Trees

| Term                   | Definition                     |
| ---------------------- | ------------------------------ |
| Tree                   | Circuit-free and connected     |
| Trivial tree           | Single vertex                  |
| Forest                 | Circuit-free and not connected |
| Terminal vertex (leaf) | Vertex of $\deg 1$             |
| Internal vertex        | Vertex of $\deg > 1$           |

==To prove any non-trivial tree has at least one vertex of $\deg 1$:==

1. Pick $v$ and $e$ incident on $v$
2. While $\deg(v) > 1$, repeat:
	1. Choose $e'$ incident on $v$ s.t. $e' \neq e$
	2. Let $v'$ be vertex at the other end
	3. $e = e', \space v = v;$

==To prove tree with $n$ vertices ($n > 0$) has $n-1$ edges:== (by induction)

1. ...
2. Base step: 1 vertex, no edges, $P(1)$ is true
3. Induction step
	1. $P(k)$ is true
	2. $k + 1 \leq 2$, $T$ has one more vertex beside $v$ of $\deg 1$
	3. There is $e$ connecting $v$ to rest of $T$
	4. Define subgraph $T'$ without this vertex and edge
		1. no. of vertices $= k$
		2. Circuit-free and connected
	5. $T'$ is a tree with $k - 1$ edges
	6. $T$ has $k - 1 + 1 = k$ edges, $P(k + 1)$ is true
4. ...

==To prove $G$ is connected with $n$ vertices and $n - 1$ edges $\to G$ is a tree:== (by contradiction)

1. Suppose $G$, $|V| = n$, $|E| =n - 1$
2. $G$ is connected, suffice to show $G$ is circuit-free
3. Suppose $G$ is not circuit-free
	1. Let $C$ be the circuit
	2. Edge can be removed from $C$ to obtain connected $G'$
	3. If $G'$ has a circuit, repeat process, eventually obtain connected and circuit-free $G''$
	4. $G''$ is tree by definition
	5. No vertices were removed, $G''$ has $n$ vertices, so $G''$ should have $n - 1$ edges
	6. However, at least one edge is removed, $|E| \leq n - 2$, contradiction
4. Supposition is false, $G$ is circuit-free and is a tree

#### §11.6 Rooted Trees

| Term                          | Definition                               |
| ----------------------------- | ---------------------------------------- |
| Rooted tree                   | One vertex distinguished as root         |
| Level                         | no. of edges along unique path from root |
| Height                        | Max level                                |
| Children, parent, siblings    | ~                                        |
| Ancestor, descendant, subtree | Region                                   |
| Binary tree                   | Parent has at most 2 children            |
| Full binary tree              | Parent has exactly 2 children            |

##### • Binary Tree Traversal

- Breadth-first search
- Depth-first search
	- Pre-order: print, left, right
	- In-order: left, print, right
	- Post-order: left, right, print

==To prove a full binary tree with $k$ internal vertices has $2k+1$ vertices and $k + 1$ terminal vertices:==

1. Every vertex except root has a parent
2. Every internal vertex has 2 children, no. of vertices that have a parent $= 2k$
3. no. of vertices $=$ vertices w/ parent + vertices w/o parent $= 2k + 1$
4. no. of terminal vertices $=$ no. of vertices $-$ no. of internal vertices $= k + 1$

==To prove if $T$ is binary tree of height $h \in \Z_{\geq 0} \to t \leq 2^h$:== (by strong MI)

1. ...
2. Base step: 1 vertex, terminal vertex, $P(0)$ is true
3. Induction step
	1. $P(1), P(2), \dots, P(k)$ is true
	2. Binary tree $T$ with root $v, \space k + 1 \geq 1, \space v$ at least one child
	3. Case 1: $v$ has one child
		1. WLOG, assume left child $v_L$, left subtree $T_L$
		2. Let $t, \space t_L$ be number of leaves in $T, \space T_L$
		3. $\deg(v) = 1$, $t = t_L + 1$
		4. $t_L \leq 2^k$ since height of $T_L = k$
		5. $k + 1 \geq 1, \space 2^k \geq 2^0 = 1$
		6. $t = t_L + 1 \leq 2^k + 1 \leq 2^k + 2^k \leq2^{k + 1}$
	4. Case 2: $v$ has two children
		1. Left child $v_L$, right child $v_R$, subtrees $T_L, \space T_R$
		2. Height $h_L \leq k, \space h_R \leq k$ since $T$ add one level
		3. Let $t_L, \space t_R$ be number of leaves in $T_L, \space T_R$
		4. $t_L \leq 2^{h_L}, \space t_R \leq 2^{h_R}$
		5. $t = t_L + t_R \leq 2^{h_L} + 2^{h_R} \leq 2^k + 2^k \leq 2^{k + 1}$
	5. Both case, $P(k + 1)$ true
4. ...

#### §11.7 Spanning Trees & Shortest Paths

**Spanning tree**: subgraph tree that contains every vertex

**Minimum spanning tree**: least possible total weight

Every connected graph has a spanning tree

Every spanning trees has same number of edges $(n - 1)$

##### • Kruskal's Algorithm

1. Init $T$ to have all vertices and no edges
2. Let $E$ be all edges, let $m = 0$
3. While $m < n - 1$
	1. Find $e \in E$ of least weight
	2. Delete $e$ from $E$
	3. If addition of $e$ to $T$ does not produce circuit, add $e$ to $T$, set $m = m + 1$

##### • Prim's Algorithm

1. Pick vertex $v$, let $T$ be graph with $v$ only
2. Let $V$ be all vertices except $v$
3. For $i = 1 $ to $n - 1$
	1. FInd $e \in G$ s.t. $e$ connects $T$ to one of the vertices $\in V \land e$ has least weight
	2. Let $w$ be the endpoint of $e$
	3. Add $e, w$ to $T$, delete $w$ from $V$

